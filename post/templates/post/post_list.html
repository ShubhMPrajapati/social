{% extends "post/post_base.html" %}
{% load humanize %}
{% load bootstrap5 %}

{% block pre_post_content %}
<div class="col-md-4">
    {% if request.user.is_authenticated %}
    <div class="card card-with-shadow mb-3">
        <div class="content p-3">
            <h5 class="title">Your Groups</h5>
            <ul class="list-unstyled">
                {% for member_group in get_user_groups %}
                <li class="group li-with-bullet">
                    <a href="{% url 'groups:single' slug=member_group.group.slug %}">
                        {{ member_group.group.name }}
                    </a>
                </li>
                {% empty %}
                <li>You are not in any groups yet.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}

    <div class="card card-with-shadow">
        <div class="content p-3">
            <h5 class="title">All Groups</h5>
            <ul class="list-unstyled">
                {% for other_group in get_other_groups %}
                <li class="group li-with-bullet">
                    <a href="{% url 'groups:single' slug=other_group.slug %}">{{ other_group.name }}</a>
                </li>
                {% empty %}
                <li>No other groups available.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block post_content %}
<div class="col-md-8">
    {% for post in post_list %}
    {% include "post/_post.html" with post=post %}
    {% empty %}
    <p>No posts available yet.</p>
    {% endfor %}
</div>
{% endblock %}
